(function(){"use strict";var e={48:function(e,t,a){var s={};a.r(s);var r=a(9963),o=a(6252);function n(e,t,a,s,r,n){const i=(0,o.up)("TheHeader"),u=(0,o.up)("TheMain"),c=(0,o.up)("TheFooter");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(i),(0,o.Wm)(u),(0,o.Wm)(c)],64)}const i={class:"header"},u=(0,o._)("h1",{class:"header__title"}," Illiada shows info about asteroids ",-1);function c(e,t,a,s,r,n){const c=(0,o.up)("ElButton");return(0,o.wg)(),(0,o.iD)("header",i,[u,r.isChangeTitleButtonVisible?((0,o.wg)(),(0,o.j4)(c,{key:0,onClick:n.setTitle},{default:(0,o.w5)((()=>[(0,o.Uk)("❤")])),_:1},8,["onClick"])):(0,o.kq)("",!0)])}var d=a(281),l={name:"TheHeader",components:{ElButton:d.mi},data(){return{isChangeTitleButtonVisible:!0}},methods:{setTitle(){document.title="NeoWs",this.isChangeTitleButtonVisible=!1}}},h=a(3744);const m=(0,h.Z)(l,[["render",c]]);var f=m;const b={class:"main"},p={class:"main__content"};function g(e,t,a,s,r,n){const i=(0,o.up)("NearOrbitalObjectsList");return(0,o.wg)(),(0,o.iD)("main",b,[(0,o._)("section",p,[(0,o.Wm)(i)])])}var v=a(3577),_=a.p+"img/icone-chargement-grise.a565b8cf.png";const O={key:0,class:"loader"},z={class:"loader__title"},y=(0,o._)("div",{class:"loader__image-container"},[(0,o._)("img",{class:"loader__image",src:_,alt:"loader"})],-1),w={key:1};function j(e,t,a,s,r,n){const i=(0,o.up)("NearOrbitalObject");return(0,o.wg)(),(0,o.iD)(o.HY,null,[r.isLoaderActive?((0,o.wg)(),(0,o.iD)("div",O,[(0,o._)("h2",z,(0,v.zw)(r.aLittleMoreTimeMessage?"Just a little more time!":"Loading data... Please, wait."),1),y])):(0,o.kq)("",!0),r.theMostObjArr.length?((0,o.wg)(),(0,o.iD)("section",w,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.theMostObjArr.slice(0,5),(e=>((0,o.wg)(),(0,o.j4)(i,{key:e.date,date:e.date,biggest:e.biggestObject,closest:e.closestObject,fastest:e.fastestObject,hazardousAmount:e.hazardousAmount,isHazardous:n.isHazardous(e)},null,8,["date","biggest","closest","fastest","hazardousAmount","isHazardous"])))),128))])):(0,o.kq)("",!0)],64)}a(7658);const A={class:"card-header"},M={class:"box-card__list"};function T(e,t,a,s,r,n){const i=(0,o.up)("ElCard");return(0,o.wg)(),(0,o.j4)(i,{class:(0,v.C_)(["box-card",{"box-card--red":a.isHazardous}])},{header:(0,o.w5)((()=>[(0,o._)("div",A,[(0,o._)("span",null,"The top list of "+(0,v.zw)(a.date),1)])])),default:(0,o.w5)((()=>[(0,o._)("ul",M,[(0,o._)("li",null," Biggest name "+(0,v.zw)(a.biggest.name)+", radius is "+(0,v.zw)(+a.biggest.estimatedDiameterMax.toFixed(3))+" km ",1),(0,o._)("li",null," Closest name "+(0,v.zw)(a.closest.name)+", distance to Earth is "+(0,v.zw)(Math.round(a.closest.missDistance))+" km ",1),(0,o._)("li",null," Fastest name "+(0,v.zw)(a.fastest.name)+", its speed is "+(0,v.zw)(Math.round(a.fastest.relativeVelocity))+" km/h ",1),(0,o._)("li",null," It's "+(0,v.zw)(a.hazardousAmount)+" hazardous object(s) ",1)])])),_:1},8,["class"])}var D=a(32),k={name:"NearOrbitalObject",components:{ElCard:D.Kf},props:["biggest","closest","fastest","hazardousAmount","date","isHazardous"]};const H=(0,h.Z)(k,[["render",T]]);var x=H,N=a(6154);function C(e){return e<10?"0"+e:e.toString()}function L(e,t){const a=e.split("-");switch(t){case"day":return a[2];case"month":return a[1];case"year":return a[0];default:break}}async function E(){let e=1;const t=new Date,a=[];do{const t=S(e),{startDate:s,endDate:r,apiKey:o}=t,n=await N.Z.get(`https://api.nasa.gov/neo/rest/v1/feed?start_date=${s}&end_date=${r}&api_key=`+o),i=n.data.near_earth_objects,u=[];for(const e in i){for(const t in i[e]){const a=i[e],s={id:a[t].id,isPotentiallyHazardousAsteroid:a[t].is_potentially_hazardous_asteroid,name:a[t].name,estimatedDiameterMax:a[t].estimated_diameter.kilometers.estimated_diameter_max,missDistance:a[t].close_approach_data[0].miss_distance.kilometers,relativeVelocity:a[t].close_approach_data[0].relative_velocity.kilometers_per_hour};u.push({...s})}a.push({date:e,nearObjects:[...u]}),u.length=0}e++}while(e<=+t.getDate());return I(a)}function S(e=1){const t=new Date,a=t.getFullYear(),s=C(t.getMonth()),r=C(e),o=C(e);return{startDate:`${a}-${s}-${o}`,endDate:`${a}-${s}-${r}`,apiKey:"PXjG2k4gTiQT1uLnemaLCDAX3RDa7jRbL69WIROx"}}function I(e){const t=[];return e.forEach((e=>{let a=e.nearObjects[0],s=e.nearObjects[0],r=e.nearObjects[0],o=0;e.nearObjects.forEach((e=>{+a.estimatedDiameterMax<+e.estimatedDiameterMax&&(a=e),+s.missDistance>+e.missDistance&&(s=e),+r.relativeVelocity<+e.relativeVelocity&&(r=e),e.isPotentiallyHazardousAsteroid&&o++}));const n=e.date.replace(+L(e.date,"month"),+L(e.date,"month")+1);t.push({biggestObject:a,closestObject:s,fastestObject:r,hazardousAmount:o,date:n}),o=0})),t}var P={name:"NearOrbitalObjectsList",components:{NearOrbitalObject:x},data(){return{aLittleMoreTimeMessage:!1,isLoaderActive:!0,indexOfTimeoutRun:0,theMostObjArr:[],fetchedMutatedArray:[],hazardousHighestNumber:0,hazardousSecondNumber:0,hazardousHigherNumberDate:"",delay:5e3}},methods:{setIntervalMethod(){if(this.indexOfTimeoutRun=1,this.fetchedMutatedArray.length>1){const e=setInterval((()=>{this.theMostObjArr.unshift(this.fetchedMutatedArray[this.indexOfTimeoutRun]),this.indexOfTimeoutRun++,this.indexOfTimeoutRun===this.fetchedMutatedArray.length&&clearInterval(e)}),this.delay)}},potentiallyHazardousObjects(e){e.forEach((e=>{this.hazardousHighestNumber<e.hazardousAmount&&(this.hazardousHighestNumber=e.hazardousAmount,this.hazardousHigherNumberDate=e.date)})),e.forEach((e=>{this.hazardousSecondNumber<=e.hazardousAmount&&e.date!==this.hazardousHigherNumberDate&&e.hazardousAmount>0&&(this.hazardousSecondNumber=e.hazardousAmount)}))},isHazardous(e){return this.hazardousHighestNumber===e.hazardousAmount&&e.hazardousAmount>0||this.hazardousSecondNumber===e.hazardousAmount&&e.hazardousAmount>0}},watch:{theMostObjArr:{handler(e){this.hazardousHighestNumber=0,this.hazardousSecondNumber=0,e.length===this.fetchedMutatedArray.length&&setTimeout((()=>{const t=e.pop();e.length=0,e.push(t),this.setIntervalMethod()}),this.delay),this.potentiallyHazardousObjects(e.slice(0,5))},deep:!0}},async created(){try{this.isLoaderActive=!0,setTimeout((()=>{this.aLittleMoreTimeMessage=!0}),3e3);const e=await E();this.fetchedMutatedArray=[...e].sort(((e,t)=>e.date.localeCompare(t.date))),this.theMostObjArr.push(this.fetchedMutatedArray[0]),this.setIntervalMethod(),this.isLoaderActive=!1}catch(e){throw new Error(e)}}};"function"===typeof s["default"]&&(0,s["default"])(P);const R=(0,h.Z)(P,[["render",j]]);var $=R,F={name:"TheMain",components:{NearOrbitalObjectsList:$}};const V=(0,h.Z)(F,[["render",g]]);var Z=V;const B={class:"footer"};function W(e,t,a,s,r,n){return(0,o.wg)(),(0,o.iD)("footer",B," © Copyright info, 2023 ")}var K={name:"TheFooter"};const Y=(0,h.Z)(K,[["render",W]]);var q=Y,X={name:"App",components:{TheHeader:f,TheMain:Z,TheFooter:q}};const G=(0,h.Z)(X,[["render",n]]);var J=G;a(4415);const Q=(0,r.ri)(J),U=[d.mi,D.Kf];U.forEach((e=>{Q.component(e.name,e)})),Q.mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,o){if(!s){var n=1/0;for(d=0;d<e.length;d++){s=e[d][0],r=e[d][1],o=e[d][2];for(var i=!0,u=0;u<s.length;u++)(!1&o||n>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[u])}))?s.splice(u--,1):(i=!1,o<n&&(n=o));if(i){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,r,o]}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/neows-information-app/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,n=s[0],i=s[1],u=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(u)var d=u(a)}for(t&&t(s);c<n.length;c++)o=n[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},s=self["webpackChunkneows_information_app"]=self["webpackChunkneows_information_app"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(48)}));s=a.O(s)})();
//# sourceMappingURL=app.62415a4c.js.map